{"ast":null,"code":"import { handleDispatch } from './index';\nexport function heapSort(stateArray, dispatch, speed) {\n  let array = stateArray.slice(0),\n      toDispatch = [];\n  buildMaxHeap(array, toDispatch);\n  let end = array.length - 1;\n\n  while (end > 0) {\n    toDispatch.push([0, end]);\n    let temp = array[end];\n    array[end] = array[0];\n    array[0] = temp;\n    toDispatch.push([0, end, true]);\n    toDispatch.push(array.slice(0));\n    toDispatch.push([]);\n    toDispatch.push([true, end]);\n    siftDown(array, 0, end, toDispatch);\n    end--;\n  }\n\n  toDispatch.push([true, end]);\n  handleDispatch(toDispatch, dispatch, array, speed);\n  return array;\n}\n\nfunction buildMaxHeap(array, toDispatch) {\n  let currentIndex = Math.floor(array.length / 2);\n\n  while (currentIndex >= 0) {\n    siftDown(array, currentIndex, array.length, toDispatch);\n    currentIndex--;\n  }\n}\n\nfunction siftDown(array, start, end, toDispatch) {\n  if (start >= Math.floor(end / 2)) {\n    return;\n  }\n\n  let left = start * 2 + 1,\n      right = start * 2 + 2 < end ? start * 2 + 2 : null,\n      swap;\n\n  if (right) {\n    toDispatch.push([start, left, right]);\n    swap = array[left] > array[right] ? left : right;\n  } else {\n    toDispatch.push([start, left]);\n    swap = left;\n  }\n\n  if (array[start] < array[swap]) {\n    let temp = array[swap];\n    array[swap] = array[start];\n    array[start] = temp;\n    toDispatch.push([start, swap, true]);\n    toDispatch.push(array.slice(0));\n    toDispatch.push([]);\n    siftDown(array, swap, end, toDispatch);\n  }\n}","map":{"version":3,"sources":["C:/Users/Youssef/Desktop/Cr/visialisation/sorting-visualisation/src/sortingAlgorithms/heapSort.js"],"names":["handleDispatch","heapSort","stateArray","dispatch","speed","array","slice","toDispatch","buildMaxHeap","end","length","push","temp","siftDown","currentIndex","Math","floor","start","left","right","swap"],"mappings":"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","sourcesContent":["import {handleDispatch} from './index';\nexport function heapSort(stateArray, dispatch, speed) {\n  let array = stateArray.slice(0),\n    toDispatch = [];\n  buildMaxHeap(array, toDispatch);\n  let end = array.length - 1;\n  while (end > 0) {\n    toDispatch.push([0, end]);\n    let temp = array[end];\n    array[end] = array[0];\n    array[0] = temp;\n    toDispatch.push([0, end, true]);\n    toDispatch.push(array.slice(0));\n    toDispatch.push([]);\n    toDispatch.push([true, end]);\n    siftDown(array, 0, end, toDispatch);\n    end--;\n  }\n  toDispatch.push([true, end]);\n  handleDispatch(toDispatch, dispatch, array, speed);\n  return array;\n}\n\nfunction buildMaxHeap(array, toDispatch) {\n  let currentIndex = Math.floor(array.length / 2);\n  while (currentIndex >= 0) {\n    siftDown(array, currentIndex, array.length, toDispatch);\n    currentIndex--;\n  }\n}\n\nfunction siftDown(array, start, end, toDispatch) {\n  if (start >= Math.floor(end / 2)) {\n    return;\n  }\n  let left = start * 2 + 1,\n    right = start * 2 + 2 < end ? start * 2 + 2 : null,\n    swap;\n  if (right) {\n    toDispatch.push([start, left, right]);\n    swap = array[left] > array[right] ? left : right;\n  } else {\n    toDispatch.push([start, left]);\n    swap = left;\n  }\n  if (array[start] < array[swap]) {\n    let temp = array[swap];\n    array[swap] = array[start];\n    array[start] = temp;\n    toDispatch.push([start, swap, true]);\n    toDispatch.push(array.slice(0));\n    toDispatch.push([]);\n    siftDown(array, swap, end, toDispatch);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}